language: go

branches:
  only:
    - "main"

go:
  - 1.15

script:
  - go build
  - test -z $(gofmt -d -s .)
  - go vet
  - go test -v -race