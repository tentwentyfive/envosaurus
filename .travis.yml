language: go

branches:
  only:
    - "master"

env:
  global:
    - GO11MODULE=on

go:
  - 1.12

script:
  - go build
  - test -z $(gofmt -d -s .)
  - go vet
  - go test -v -race